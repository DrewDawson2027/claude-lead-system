{
  "permissions": {
    "allow": [
      "WebSearch",
      "WebFetch(domain:*)",
      "Bash",
      "Read",
      "Write",
      "Edit",
      "Task"
    ],
    "deny": []
  },
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Task",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/token-guard.py",
            "timeout": 3000
          }
        ]
      },
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/check-inbox.sh",
            "timeout": 1000
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Edit|Write|Bash|Read",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/terminal-heartbeat.sh",
            "timeout": 3000
          }
        ]
      },
      {
        "matcher": "Read",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/read-efficiency-guard.py",
            "timeout": 3000
          }
        ]
      }
    ],
    "SessionStart": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/session-register.sh",
            "timeout": 5000
          }
        ]
      },
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "You have access to a cross-terminal coordination system via MCP tools prefixed with 'coord_'. The coordinator enables communication between all active Claude Code sessions.\n\nAvailable coordination tools:\n- coord_check_inbox: Check for messages from the lead or other sessions\n- coord_register_work: Declare what task/files you're working on (helps prevent conflicts)\n- coord_detect_conflicts: Check if another session is editing the same files\n- coord_list_sessions: See all active Claude Code sessions\n- coord_send_message: Send a message to another session\n- coord_assign_task: Add work to the shared queue\n- coord_spawn_terminal: Open a new Claude Code terminal\n\nIf you receive messages via the inbox hook (shown as '--- INCOMING MESSAGES FROM COORDINATOR ---'), read and act on them.",
            "timeout": 30
          }
        ]
      }
    ],
    "SessionEnd": [
      {
        "matcher": "*",
        "hooks": [
          {
            "type": "command",
            "command": "~/.claude/hooks/session-end.sh",
            "timeout": 3000
          }
        ]
      }
    ]
  },
  "mcpServers": {
    "coordinator": {
      "command": "node",
      "args": [
        "~/.claude/mcp-coordinator/index.js"
      ]
    }
  }
}
